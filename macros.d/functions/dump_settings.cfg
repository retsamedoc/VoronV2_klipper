[gcode_macro DUMP_SETTINGS]
gcode:
    {% set parameters = namespace(output = '') %}
    {% for name1 in printer.configfile.settings %}
      {% set show = ['extruder'] %}
      {% if name1 is not in show %}
        {% set param = "printer.configfile.settings['%s'] = %s" % (name1, printer.configfile.settings[name1]) %}
        {% set parameters.output = parameters.output +  param + "\n" %}
      {% endif %}
    {% endfor %}
    {action_respond_info(parameters.output)}
